(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[368],{5669:function(e,s,t){Promise.resolve().then(t.bind(t,7258))},7258:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return g}});var a=t(7437),l=t(2265),i=t(7138),n=t(5733),r=t(8030);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,r.Z)("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]);var d=t(4086);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,r.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var o=t(5137),m=t(3787);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,r.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var u=t(3907),p=t(7164);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let y=(0,r.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);function g(e){let{params:s}=e,[t,r]=(0,l.useState)(null),[g,j]=(0,l.useState)(!0),[f,N]=(0,l.useState)(""),[v,w]=(0,l.useState)("all");(0,l.useEffect)(()=>{k(),b()},[s.id]);let k=async()=>{try{let e=await fetch("/api/analytics/track?talkPageId=".concat(s.id));if(e.ok){let s=await e.json();r(s)}}catch(e){console.error("Error fetching analytics:",e)}finally{j(!1)}},b=async()=>{try{let e=await fetch("/api/talk-pages/".concat(s.id));if(e.ok){let s=await e.json();N(s.title)}}catch(e){console.error("Error fetching page info:",e)}};if(g)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!t)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"No Analytics Data"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Analytics will appear once your page has visitors."}),(0,a.jsx)(i.default,{href:"/dashboard",className:"text-primary-600 hover:text-primary-700 mt-4 inline-block",children:"Back to Dashboard"})]})});let Z=e=>{let s=new Date(e.createdAt),t=s.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),l=s.toLocaleDateString("en-US",{month:"short",day:"numeric"});switch(e.event){case"page_view":return{icon:(0,a.jsx)(n.Z,{className:"h-4 w-4"}),text:"Page viewed",time:t,day:l};case"link_click":return{icon:(0,a.jsx)(c,{className:"h-4 w-4"}),text:"Clicked ".concat(e.data.linkName||e.data.linkType),time:t,day:l};case"email_capture":return{icon:(0,a.jsx)(d.Z,{className:"h-4 w-4"}),text:"Email captured (".concat(e.data.captureType,")"),time:t,day:l};default:return{icon:(0,a.jsx)(x,{className:"h-4 w-4"}),text:e.event,time:t,day:l}}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(i.default,{href:"/dashboard",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[(0,a.jsx)(o.Z,{className:"h-5 w-5"}),"Back to Dashboard"]}),(0,a.jsx)("span",{className:"text-gray-300",children:"|"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"Analytics"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:f})]})]}),(0,a.jsxs)(i.default,{href:"/talk/".concat(s.id),target:"_blank",className:"flex items-center gap-2 px-3 py-1.5 text-sm border rounded-lg hover:bg-gray-50",children:["View Page",(0,a.jsx)(m.Z,{className:"h-3 w-3"})]})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(n.Z,{className:"h-8 w-8 text-blue-600 opacity-50"}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"Total"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:t.overview.pageViews}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Page Views"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(c,{className:"h-8 w-8 text-green-600 opacity-50"}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"Total"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:t.overview.linkClicks}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Link Clicks"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(d.Z,{className:"h-8 w-8 text-purple-600 opacity-50"}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"Total"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:t.overview.emailCaptures}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Emails Captured"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(h,{className:"h-8 w-8 text-orange-600 opacity-50"}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"Rate"})]}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[t.overview.conversionRate,"%"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Conversion Rate"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"h-5 w-5 text-yellow-500"}),"Top GPTs"]}),0===t.gpts.length?(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"No GPT clicks yet"}):(0,a.jsx)("div",{className:"space-y-3",children:t.gpts.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm truncate flex-1",children:e.name}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.clickCount})]},s))})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,a.jsx)(m.Z,{className:"h-5 w-5 text-primary-600"}),"Business Links"]}),0===t.businessLinks.length?(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"No business link clicks yet"}):(0,a.jsx)("div",{className:"space-y-3",children:t.businessLinks.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm truncate flex-1",children:e.name}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.clickCount})]},s))})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,a.jsx)(p.Z,{className:"h-5 w-5 text-green-600"}),"Top Downloads"]}),0===t.downloads.length?(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"No downloads yet"}):(0,a.jsx)("div",{className:"space-y-3",children:t.downloads.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm truncate flex-1",children:e.title}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.downloadCount})]},s))})]})]}),(0,a.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-sm p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,a.jsx)(y,{className:"h-5 w-5 text-gray-600"}),"Recent Activity"]}),0===t.recentActivity.length?(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"No activity yet"}):(0,a.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:t.recentActivity.map(e=>{let s=Z(e);return(0,a.jsxs)("div",{className:"flex items-center gap-3 py-2 border-b last:border-0",children:[(0,a.jsx)("div",{className:"text-gray-400",children:s.icon}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("p",{className:"text-sm",children:s.text})}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:s.time}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:s.day})]})]},e.id)})})]}),(0,a.jsxs)("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"\uD83D\uDCCA UTM Tracking Active"}),(0,a.jsx)("p",{className:"text-sm text-blue-800 mb-3",children:"All external links from your talk page automatically include UTM parameters for tracking in Google Analytics:"}),(0,a.jsxs)("div",{className:"bg-white rounded p-3 font-mono text-xs",children:[(0,a.jsx)("div",{children:"utm_source=micdrop"}),(0,a.jsx)("div",{children:"utm_medium=speaker_page"}),(0,a.jsxs)("div",{children:["utm_campaign=","your-talk-slug"]}),(0,a.jsxs)("div",{children:["utm_content=","link-name"]}),(0,a.jsxs)("div",{children:["utm_term=","link-type"]})]}),(0,a.jsx)("p",{className:"text-sm text-blue-800 mt-3",children:"This helps you track which resources drive the most engagement and conversions in your own analytics tools."})]})]})]})}},8030:function(e,s,t){"use strict";t.d(s,{Z:function(){return c}});var a=t(2265);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&t.indexOf(e)===s).join(" ")};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.forwardRef)((e,s)=>{let{color:t="currentColor",size:l=24,strokeWidth:r=2,absoluteStrokeWidth:c,className:d="",children:x,iconNode:o,...m}=e;return(0,a.createElement)("svg",{ref:s,...n,width:l,height:l,stroke:t,strokeWidth:c?24*Number(r)/Number(l):r,className:i("lucide",d),...m},[...o.map(e=>{let[s,t]=e;return(0,a.createElement)(s,t)}),...Array.isArray(x)?x:[x]])}),c=(e,s)=>{let t=(0,a.forwardRef)((t,n)=>{let{className:c,...d}=t;return(0,a.createElement)(r,{ref:n,iconNode:s,className:i("lucide-".concat(l(e)),c),...d})});return t.displayName="".concat(e),t}},5137:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(8030).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7164:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(8030).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},3787:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(8030).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},5733:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(8030).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4086:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(8030).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},3907:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(8030).Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},7138:function(e,s,t){"use strict";t.d(s,{default:function(){return l.a}});var a=t(231),l=t.n(a)}},function(e){e.O(0,[231,971,23,744],function(){return e(e.s=5669)}),_N_E=e.O()}]);